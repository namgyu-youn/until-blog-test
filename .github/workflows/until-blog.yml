name: Update Until Blog Widget
on:
  schedule:
    - cron: "0 0 * * *"  # 매일 자정에 실행
  workflow_dispatch:     # 수동 실행 옵션

jobs:
  update-blog-widget:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v3

      - name: Generate Until Blog Widget
        uses: octoping/until-github-readme@main  # GitHub Action 사용
        with:
          username: your-username  # 여기에 본인의 Until 블로그 사용자명 입력
          # 선택적 설정:
          # max_posts: 4  # 표시할 최대 포스트 수
          # title: "📝 Until 블로그 최신 글"  # 위젯 제목
          # theme: "dark"  # 테마 (dark/light)
          # filename: "blog-widget.svg"  # 출력 파일명

      - name: Commit and push changes
        run: |
          git config --local user.email "github-actions[bot]@users.noreply.github.com"
          git config --local user.name "github-actions[bot]"
          git add blog-widget.svg
          git commit -m "Update blog widget" || echo "No changes to commit"
          git push